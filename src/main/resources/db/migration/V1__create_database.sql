CREATE SCHEMA if not exists db;

-- Create Authentication Table
CREATE TABLE db.authentication
(
    id       INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    email    VARCHAR(255),
    password VARCHAR(255)
);

-- Create Company Table
CREATE TABLE db.company
(
    companyID INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name      VARCHAR(255),
    VAT       BIGINT,
    pin       INT
);

-- Create Collaborator Table
CREATE TABLE db.collaborator
(
    collaboratorID INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name           VARCHAR(255),
    companyID      INT,
    role           VARCHAR(255),
    FOREIGN KEY (companyID) REFERENCES company (companyID)
);

-- Create Land Table
CREATE TABLE db.land
(
    landID      INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name         VARCHAR(255),
    area         INT,
    coordinates  VARCHAR(255),
    localization VARCHAR(255),
    companyID    INT,
    FOREIGN KEY (companyID) REFERENCES company (companyID)
);

-- Create Product Table
CREATE TABLE db.product
(
    productID    INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    name         VARCHAR(255),
    safetyPeriod VARCHAR(255),
    description  TEXT,
    type         VARCHAR(255)
);

-- Create Treatment Table
CREATE TABLE db.treatment
(
    treatmentID INT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    productID   INT,
    description TEXT,
    FOREIGN KEY (productID) REFERENCES product (productID)
);

CREATE SEQUENCE db.authorization_seq START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE db.collaborator_seq START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE db.company_seq START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE db.land_seq START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE db.product_seq START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE db.treatment_seq START WITH 1 INCREMENT BY 1;

-- Insert data into the company table
INSERT INTO db.company (companyID, name, vat, pin)
VALUES (1, 'Company A', 123456789, 1111),
       (2, 'Company B', 987654321, 2222),
       (3, 'Company C', 192837465, 3333),
       (4, 'Company D', 564738291, 4444),
       (5, 'Company E', 777888999, 5555);

-- Insert data into the collaborator table
INSERT INTO db.collaborator (collaboratorID, name, companyID, role)
VALUES (1, 'Alice', 1, 'Engineer'),
       (2, 'Bob', 1, 'Manager'),
       (3, 'Charlie', 2, 'Technician'),
       (4, 'David', 2, 'Clerk'),
       (5, 'Eve', 3, 'Director');

-- Insert data into the land table
INSERT INTO db.land (landID, name, area, coordinates, localization, companyID)
VALUES (1, 'Field 1', 100, '10.123,20.456', 'North', 1),
       (2, 'Field 2', 150, '20.123,30.456', 'South', 1),
       (3, 'Field 3', 200, '30.123,40.456', 'East', 2),
       (4, 'Field 4', 250, '40.123,50.456', 'West', 2),
       (5, 'Field 5', 300, '50.123,60.456', 'Central', 3);

-- Insert data into the product table
INSERT INTO db.product (productID, name, safetyPeriod, description, type)
VALUES (1, 'Product 1', '2 days', 'Description 1', 'Type 1'),
       (2, 'Product 2', '3 days', 'Description 2', 'Type 2'),
       (3, 'Product 3', '4 days', 'Description 3', 'Type 3'),
       (4, 'Product 4', '5 days', 'Description 4', 'Type 4'),
       (5, 'Product 5', '6 days', 'Description 5', 'Type 5');

-- Insert data into the treatment table
INSERT INTO db.treatment (treatmentID, productID, description)
VALUES (1, 2, 'Treatment Description 1'),
       (2, 1, 'Treatment Description 2'),
       (3, 4, 'Treatment Description 3'),
       (4, 4, 'Treatment Description 4'),
       (5, 5, 'Treatment Description 5');

